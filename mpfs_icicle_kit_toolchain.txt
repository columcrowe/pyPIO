cd C:\tmp\My_workspace

### For eclipse ###
set PATH=C:\Microchip\SoftConsole-v2022.2-RISC-V-747\eclipse;%PATH%

### For toolchain ###
set PATH=C:\Microchip\SoftConsole-v2022.2-RISC-V-747\riscv-unknown-elf-gcc\bin;%PATH%

### For Make ###
set PATH=C:\Microchip\SoftConsole-v2022.2-RISC-V-747\build_tools\bin;%PATH%

### For Python ###
set PATH=C:\Microchip\SoftConsole-v2022.2-RISC-V-747\python3;%PATH%

rm -rf C:\tmp\My_workspace\.metadata
eclipse.exe -nosplash -application org.eclipse.cdt.managedbuilder.core.headlessbuild -data C:\tmp\My_workspace -import C:\Microchip\SoftConsole-v2022.2-RISC-V-747\extras\workspace.examples\mpfs-blank-baremetal -cleanBuild mpfs-blank-baremetal/DDR-Release-IcicleKitEs

cd C:\Microchip\SoftConsole-v2022.2-RISC-V-747\extras\workspace.examples\mpfs-blank-baremetal\DDR-Release-IcicleKitEs

wsl grep -q .py makefile && sed -i.bak 's|^\(\s*-\)\(.*.py.*\)|\1python \2|' makefile
or
uv run mpfs_icicle_kit_grep_sed.py

make pre-build

make all

cd E:\windows\pyPIO\src\mpfs_icicle_kit\mpfs-blank-baremetal\resources
wsl ./hss-payload-generator -c hss-bm-payload-ddr.yaml output.bin

wsl mv -f ./output.bin ./../DDR-Release-IcicleKitEs/mpfs-blank-baremetal.bin
or
copy /Y output.bin ..\DDR-Release-IcicleKitEs\mpfs-blank-baremetal.bin

cd E:\windows\pyPIO\

### For Flashing eNVM ###
SET FPGENPROG=C:\Microchip\Program_Debug_v2023.2\Program_Debug_Tool\bin64\fpgenprog.exe
cd C:\Microchip\SoftConsole-v2022.2-RISC-V-747\extras\workspace.examples\mpfs-hal-ddr-demo\Icicle-Kit-eNVM-Scratchpad-Release
C:\Microchip\SoftConsole-v2022.2-RISC-V-747\eclipse\jre\bin\java.exe -jar C:\Microchip\SoftConsole-v2022.2-RISC-V-747\eclipse\/../extras/mpfs/mpfsBootmodeProgrammer.jar --bootmode 1 --die MPFS250T_ES --package FCVG484